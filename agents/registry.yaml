version: "1.0"

agents:
  - id: quality-governance
    name: Quality & Governance Agent
    category: audit
    role: reviewer
    execution:
      runtime: node
    contexts:
      allowed:
        - api
        - github
        - ci
    expose:
      selectable: true
      internal_only: false
    risk:
      level: low
      rationale: "Read-only governance review agent with no destructive operations"
    approval:
      required: false
      type: none
      approvers: []
    startup:
      auto_start: false
      allowed_profiles:
        - development
        - staging
        - production
    healthcheck:
      endpoint: /api/agents/quality-governance/health
      interval_seconds: 60

  - id: compliance-auditor
    name: Compliance Auditor
    category: audit
    role: auditor
    execution:
      runtime: node
    contexts:
      allowed:
        - api
        - github
        - ci
    expose:
      selectable: true
      internal_only: false
    risk:
      level: low
      rationale: "Audit-only agent performing compliance checks without modifications"
    approval:
      required: false
      type: none
      approvers: []
    startup:
      auto_start: false
      allowed_profiles:
        - development
        - staging
        - production
    healthcheck:
      endpoint: /api/agents/compliance-auditor/health
      interval_seconds: 60

  - id: legal-advisor
    name: Legal Advisor
    category: audit
    role: advisor
    execution:
      runtime: node
    contexts:
      allowed:
        - api
        - chat
    expose:
      selectable: true
      internal_only: false
    risk:
      level: low
      rationale: "Advisory agent providing legal guidance without system modifications"
    approval:
      required: false
      type: none
      approvers: []
    startup:
      auto_start: false
      allowed_profiles:
        - development
        - staging
        - production
    healthcheck:
      endpoint: /api/agents/legal-advisor/health
      interval_seconds: 60

  - id: autonomous-architect
    name: Autonomous Architect
    category: system
    role: planner
    execution:
      runtime: node
    contexts:
      allowed:
        - api
        - github
    expose:
      selectable: false
      internal_only: true
    risk:
      level: high
      rationale: "Can propose and execute architectural changes with potential system-wide impact"
    approval:
      required: true
      type: manual
      approvers:
        - system-admin
        - lead-architect
    startup:
      auto_start: false
      allowed_profiles:
        - development
        - staging
    healthcheck:
      endpoint: /api/agents/autonomous-architect/health
      interval_seconds: 120

  - id: pr-merge
    name: PR Merge Agent
    category: system
    role: executor
    execution:
      runtime: node
    contexts:
      allowed:
        - github
        - ci
    expose:
      selectable: false
      internal_only: true
    risk:
      level: medium
      rationale: "Automated PR merging with quality gates but potential for unintended merges"
    approval:
      required: true
      type: automated
      approvers:
        - ci-system
        - quality-gates
    startup:
      auto_start: false
      allowed_profiles:
        - staging
        - production
    healthcheck:
      endpoint: /api/agents/pr-merge/health
      interval_seconds: 90

  - id: cleaner-agent
    name: The Cleaner Agent
    category: system
    role: formatter
    execution:
      runtime: github-actions
    contexts:
      allowed:
        - github
        - ci
    expose:
      selectable: false
      internal_only: true
    risk:
      level: low
      rationale: "Auto-formats code using Black and Prettier, no destructive operations"
    approval:
      required: false
      type: automated
      approvers:
        - ci-system
    startup:
      auto_start: false
      allowed_profiles:
        - development
        - staging
        - production
    healthcheck:
      endpoint: /api/agents/cleaner-agent/health
      interval_seconds: 120

  - id: auto-merger
    name: The Auto-Merger
    category: system
    role: merger
    execution:
      runtime: github-actions
    contexts:
      allowed:
        - github
        - ci
    expose:
      selectable: false
      internal_only: true
    risk:
      level: high
      rationale: "Automatically merges PRs after validation, potential for merging problematic code"
    approval:
      required: true
      type: automated
      approvers:
        - ci-system
        - quality-gates
    startup:
      auto_start: false
      allowed_profiles:
        - production
    healthcheck:
      endpoint: /api/agents/auto-merger/health
      interval_seconds: 120

  - id: readme-architect
    name: The README Architect
    category: system
    role: documentor
    execution:
      runtime: github-actions
    contexts:
      allowed:
        - github
        - ci
    expose:
      selectable: false
      internal_only: true
    risk:
      level: low
      rationale: "Updates README and documentation after merges, minimal risk"
    approval:
      required: false
      type: automated
      approvers:
        - ci-system
    startup:
      auto_start: false
      allowed_profiles:
        - development
        - staging
        - production
    healthcheck:
      endpoint: /api/agents/readme-architect/health
      interval_seconds: 120

  - id: pentest-agent
    name: Penetration Testing Agent
    category: security
    role: penetration_tester
    execution:
      runtime: python
      service_url: http://localhost:8001
    contexts:
      allowed:
        - api
        - ci
        - web
    expose:
      selectable: true
      internal_only: false
    risk:
      level: medium
      rationale: "Actively tests applications with attack payloads but operates in controlled environment"
    approval:
      required: true
      type: automated
      approvers:
        - security-team
        - ci-system
    startup:
      auto_start: false
      allowed_profiles:
        - development
        - staging
    healthcheck:
      endpoint: /health
      interval_seconds: 60
