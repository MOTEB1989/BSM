<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CoreHub Nexus</title>
  <meta name="description" content="Ù…Ù†ØµØ© CoreHub Nexus Ù„Ù„Ù…Ø­Ø§Ø¯Ø«Ø© Ø§Ù„Ø°ÙƒÙŠØ© ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙˆÙƒÙ„Ø§Ø¡" />
  <meta name="api-base-url" content="https://sr-bsm.onrender.com" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      background: #06090f;
      background-image:
        radial-gradient(ellipse 80% 50% at 50% -10%, rgba(124,58,237,0.15) 0%, transparent 60%),
        radial-gradient(ellipse 60% 40% at 80% 80%, rgba(79,70,229,0.08) 0%, transparent 50%);
      min-height: 100vh;
      font-family: 'Segoe UI', Tahoma, 'Arial', sans-serif;
      overflow: hidden;
    }

    /* â”€â”€ Scrollbar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    ::-webkit-scrollbar { width: 3px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: rgba(124,58,237,0.5); border-radius: 4px; }

    /* â”€â”€ Glass morphism â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .glass {
      background: rgba(15, 23, 42, 0.72);
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
      border: 1px solid rgba(148, 163, 184, 0.09);
    }

    /* â”€â”€ Gradient text â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .gradient-text {
      background: linear-gradient(135deg, #a78bfa 0%, #818cf8 50%, #60a5fa 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    /* â”€â”€ Active tab â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .tab-active {
      background: linear-gradient(135deg, rgba(124,58,237,0.9), rgba(79,70,229,0.9));
      color: #fff !important;
      box-shadow: 0 4px 20px rgba(124,58,237,0.35);
    }

    /* â”€â”€ Model card selected â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .card-selected {
      border-color: rgba(124,58,237,0.7) !important;
      box-shadow: 0 0 0 1px rgba(124,58,237,0.3), 0 8px 30px rgba(124,58,237,0.15);
    }

    /* â”€â”€ Category filter active â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .cat-active {
      background: rgba(124,58,237,0.25) !important;
      border-color: rgba(124,58,237,0.6) !important;
      color: #c4b5fd !important;
    }

    /* â”€â”€ Online pulse â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    @keyframes pulse-ring {
      0% { box-shadow: 0 0 0 0 rgba(16,185,129,0.4); }
      70% { box-shadow: 0 0 0 6px rgba(16,185,129,0); }
      100% { box-shadow: 0 0 0 0 rgba(16,185,129,0); }
    }
    .online-dot { animation: pulse-ring 2s infinite; }

    /* â”€â”€ Message animation â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    @keyframes msgIn {
      from { opacity: 0; transform: translateY(12px); }
      to   { opacity: 1; transform: translateY(0); }
    }
    .msg-anim { animation: msgIn 0.28s cubic-bezier(.21,.69,.38,1) forwards; }

    /* â”€â”€ Typing indicator â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    @keyframes typingBlink {
      0%,80%,100% { opacity: 0.2; transform: scale(0.8); }
      40%         { opacity: 1;   transform: scale(1); }
    }
    .tdot { animation: typingBlink 1.3s infinite ease-in-out; }
    .tdot:nth-child(2) { animation-delay: .18s; }
    .tdot:nth-child(3) { animation-delay: .36s; }

    /* â”€â”€ Textarea auto-resize â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    #chat-input {
      resize: none;
      min-height: 22px;
      max-height: 120px;
      overflow-y: auto;
      line-height: 1.5;
    }

    /* â”€â”€ Quick action chips â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .qa-chip {
      background: rgba(255,255,255,0.04);
      border: 1px solid rgba(255,255,255,0.08);
      transition: all .15s ease;
    }
    .qa-chip:hover {
      background: rgba(124,58,237,0.15);
      border-color: rgba(124,58,237,0.4);
      color: #c4b5fd;
    }

    /* â”€â”€ Send button â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    #send-btn:not(:disabled):hover {
      transform: scale(1.06);
      box-shadow: 0 6px 20px rgba(124,58,237,0.45);
    }
    #send-btn { transition: all .18s ease; }

    /* â”€â”€ Card hover â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .model-card { transition: all .18s ease; }
    .model-card:hover { transform: translateY(-2px); box-shadow: 0 8px 30px rgba(0,0,0,0.3); }

    /* â”€â”€ Prose for AI messages â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .prose-msg a { color: #818cf8; text-decoration: underline; }
    .prose-msg code {
      background: rgba(0,0,0,0.35);
      padding: 0.1em 0.35em;
      border-radius: 4px;
      font-size: .82em;
      font-family: 'Courier New', monospace;
    }
    .prose-msg pre {
      background: rgba(0,0,0,0.45);
      border: 1px solid rgba(255,255,255,0.07);
      border-radius: 8px;
      padding: 0.8em;
      overflow-x: auto;
      margin: 0.5em 0;
      direction: ltr;
      text-align: left;
    }
    .prose-msg p { margin-bottom: 0.4em; }
    .prose-msg ul, .prose-msg ol { padding-inline-start: 1.4em; margin: 0.3em 0; }
    .prose-msg li { margin: 0.15em 0; }

    /* â”€â”€ Responsive â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    @media (max-width: 640px) {
      .tab-label { display: none; }
      .tab-btn   { padding: 0.5rem 0.75rem; }
    }
  </style>
</head>
<body class="text-white">

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• HEADER â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <header class="h-13 px-5 flex items-center justify-between border-b border-white/[0.07] glass sticky top-0 z-50" style="height:52px;">
    <div class="flex items-center gap-2.5">
      <div class="w-7 h-7 rounded-lg bg-gradient-to-br from-violet-600 to-indigo-600 flex items-center justify-center text-xs font-black shadow-lg shadow-violet-900/40">N</div>
      <span class="text-sm font-bold tracking-wide">CORE<span class="gradient-text">HUB</span></span>
    </div>

    <div class="flex items-center gap-3">
      <span id="clock" class="text-[11px] text-gray-500 font-mono tabular-nums hidden sm:block"></span>
      <div class="flex items-center gap-1.5">
        <span class="w-2 h-2 rounded-full bg-emerald-500 online-dot inline-block"></span>
        <span class="text-[10px] text-emerald-400" id="status-label">Ù…ØªØµÙ„</span>
      </div>
      <button onclick="toggleLang()" class="text-[11px] px-2.5 py-1 rounded-full border border-white/10 text-gray-400 hover:text-white hover:border-white/25 transition">
        <span id="lang-btn">EN</span>
      </button>
    </div>
  </header>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â• TAB NAVIGATION â•â•â•â•â•â•â•â•â•â•â•â• -->
  <nav class="flex justify-center py-3 px-4">
    <div class="glass rounded-full p-1 flex gap-1 shadow-lg shadow-black/30">

      <button onclick="setTab('models')" id="tab-models"
        class="tab-btn tab-active flex items-center gap-1.5 px-4 py-2 rounded-full text-[11px] font-semibold transition-all duration-200">
        <svg class="w-3.5 h-3.5 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M9 3H5a2 2 0 00-2 2v4m6-6h10a2 2 0 012 2v4M9 3v18m0 0h10a2 2 0 002-2V9M9 21H5a2 2 0 01-2-2V9m0 0h18"/>
        </svg>
        <span class="tab-label" data-ar="Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù†Ù…ÙˆØ°Ø¬" data-en="Select Model">Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù†Ù…ÙˆØ°Ø¬</span>
      </button>

      <button onclick="setTab('chat')" id="tab-chat"
        class="tab-btn flex items-center gap-1.5 px-4 py-2 rounded-full text-[11px] font-semibold text-gray-400 transition-all duration-200 hover:text-white">
        <svg class="w-3.5 h-3.5 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"/>
        </svg>
        <span class="tab-label" data-ar="Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© Ø§Ù„Ø°ÙƒÙŠØ©" data-en="Smart Chat">Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© Ø§Ù„Ø°ÙƒÙŠØ©</span>
      </button>

      <button onclick="setTab('agents')" id="tab-agents"
        class="tab-btn flex items-center gap-1.5 px-4 py-2 rounded-full text-[11px] font-semibold text-gray-400 transition-all duration-200 hover:text-white">
        <svg class="w-3.5 h-3.5 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"/>
        </svg>
        <span class="tab-label" data-ar="Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙˆÙƒÙ„Ø§Ø¡" data-en="Agents">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙˆÙƒÙ„Ø§Ø¡</span>
      </button>

    </div>
  </nav>

  <!-- â•â•â•â•â•â•â•â•â•â•â• MAIN PANELS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <main id="main-content" class="px-4 pb-4" style="height: calc(100vh - 100px); overflow: hidden;">

    <!-- â•â•â•â•â•â• PANEL 1: MODEL SELECTION â•â•â•â•â•â• -->
    <div id="panel-models" class="h-full overflow-y-auto">
      <div class="max-w-3xl mx-auto space-y-4 py-1">

        <!-- Title -->
        <div class="text-center pb-1">
          <h2 class="text-xl font-black gradient-text" data-ar="Ø§Ø®ØªØ± Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ" data-en="Choose AI Model">Ø§Ø®ØªØ± Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</h2>
          <p class="text-[11px] text-gray-500 mt-1" data-ar="Ø§Ø®ØªØ± Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ù„Ù…Ø­Ø§Ø¯Ø«ØªÙƒ" data-en="Pick the best model for your conversation">Ø§Ø®ØªØ± Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ù„Ù…Ø­Ø§Ø¯Ø«ØªÙƒ</p>
        </div>

        <!-- Search -->
        <div class="relative">
          <svg class="absolute right-3.5 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500 pointer-events-none" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
          </svg>
          <input id="model-search" type="text" oninput="renderModels()"
            placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù†Ù…ÙˆØ°Ø¬..."
            class="w-full glass rounded-xl py-2.5 pr-10 pl-4 text-sm text-white placeholder-gray-600 border border-white/[0.08] focus:border-violet-500/50 focus:outline-none transition">
        </div>

        <!-- Category Filters -->
        <div class="flex gap-2 flex-wrap">
          <button class="cat-btn cat-active px-3.5 py-1.5 rounded-full text-[11px] font-medium border border-transparent transition" onclick="setCategory('all')" data-cat="all">Ø§Ù„ÙƒÙ„</button>
          <button class="cat-btn px-3.5 py-1.5 rounded-full text-[11px] font-medium border border-white/10 text-gray-400 hover:border-violet-500/40 transition" onclick="setCategory('openai')" data-cat="openai">OpenAI</button>
          <button class="cat-btn px-3.5 py-1.5 rounded-full text-[11px] font-medium border border-white/10 text-gray-400 hover:border-violet-500/40 transition" onclick="setCategory('perplexity')" data-cat="perplexity">Perplexity</button>
          <button class="cat-btn px-3.5 py-1.5 rounded-full text-[11px] font-medium border border-white/10 text-gray-400 hover:border-violet-500/40 transition" onclick="setCategory('anthropic')" data-cat="anthropic">Anthropic</button>
        </div>

        <!-- Models Grid -->
        <div id="models-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3"></div>

        <!-- Start Chat CTA -->
        <div class="flex justify-center pb-4 pt-2">
          <button onclick="startChat()"
            class="flex items-center gap-2.5 px-8 py-3 bg-gradient-to-r from-violet-600 to-indigo-600 hover:from-violet-500 hover:to-indigo-500 rounded-xl text-sm font-bold transition-all duration-200 shadow-lg shadow-violet-900/40 hover:shadow-violet-900/60 hover:-translate-y-0.5">
            <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5">
              <path stroke-linecap="round" stroke-linejoin="round" d="M13 10V3L4 14h7v7l9-11h-7z"/>
            </svg>
            <span data-ar="Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©" data-en="Start Chat">Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©</span>
          </button>
        </div>

      </div>
    </div>

    <!-- â•â•â•â•â•â• PANEL 2: CHAT â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <div id="panel-chat" class="h-full flex flex-col hidden">

      <!-- Chat model bar -->
      <div class="glass rounded-2xl px-4 py-3 mb-3 flex items-center justify-between flex-shrink-0 border border-white/[0.07]">
        <div class="flex items-center gap-3">
          <div id="chat-icon" class="w-9 h-9 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center text-base flex-shrink-0">âš¡</div>
          <div>
            <div id="chat-model-name" class="text-sm font-bold">GPT-4o mini</div>
            <div id="chat-sub" class="text-[10px] text-gray-500" data-ar="Ø¬Ø§Ù‡Ø² Ù„Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©" data-en="Ready to help">Ø¬Ø§Ù‡Ø² Ù„Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©</div>
          </div>
        </div>
        <div class="flex items-center gap-2">
          <button onclick="clearChat()"
            class="text-[11px] px-3 py-1.5 rounded-lg border border-white/10 text-gray-400 hover:text-white hover:border-white/20 transition"
            data-ar="Ù…Ø³Ø­" data-en="Clear">Ù…Ø³Ø­</button>
          <button onclick="setTab('models')"
            class="text-[11px] px-3 py-1.5 rounded-lg border border-violet-500/30 bg-violet-500/5 text-violet-400 hover:bg-violet-500/15 transition">
            <span data-ar="ØªØºÙŠÙŠØ± Ø§Ù„Ù†Ù…ÙˆØ°Ø¬" data-en="Change Model">ØªØºÙŠÙŠØ± Ø§Ù„Ù†Ù…ÙˆØ°Ø¬</span>
          </button>
        </div>
      </div>

      <!-- Messages container -->
      <div id="chat-messages" class="flex-1 overflow-y-auto space-y-3 mb-3 px-0.5">
        <div id="chat-empty" class="flex flex-col items-center justify-center h-full py-10 text-center">
          <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-600 to-indigo-700 flex items-center justify-center text-2xl mb-4 shadow-xl shadow-violet-900/30">âœ¨</div>
          <h3 class="font-bold text-base mb-1" data-ar="Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ" data-en="Welcome">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ</h3>
          <p class="text-xs text-gray-500 max-w-xs leading-relaxed" data-ar="Ø§Ø³Ø£Ù„Ù†ÙŠ Ø£ÙŠ Ø´ÙŠØ¡ â€” Ù‚Ø§Ù†ÙˆÙ†ØŒ Ø£Ø¹Ù…Ø§Ù„ØŒ Ø£Ùˆ ÙÙƒØ±Ø©" data-en="Ask me anything â€” law, business, or ideas">Ø§Ø³Ø£Ù„Ù†ÙŠ Ø£ÙŠ Ø´ÙŠØ¡ â€” Ù‚Ø§Ù†ÙˆÙ†ØŒ Ø£Ø¹Ù…Ø§Ù„ØŒ Ø£Ùˆ ÙÙƒØ±Ø©</p>

          <!-- Quick actions -->
          <div id="quick-actions" class="grid grid-cols-2 gap-2 mt-6 w-full max-w-sm px-4"></div>
        </div>
      </div>

      <!-- Input area -->
      <div class="glass rounded-2xl px-4 py-3 flex-shrink-0 border border-white/[0.07]">
        <div class="flex gap-3 items-end">
          <textarea id="chat-input"
            placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ..."
            onkeydown="handleKey(event)"
            oninput="autoResize(this)"
            class="flex-1 bg-transparent text-sm text-white placeholder-gray-600 outline-none leading-relaxed"
            rows="1"></textarea>
          <button id="send-btn" onclick="sendMessage()"
            class="w-9 h-9 rounded-xl bg-gradient-to-br from-violet-600 to-indigo-600 flex items-center justify-center flex-shrink-0 shadow-lg shadow-violet-900/30">
            <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5">
              <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h14M12 5l7 7-7 7"/>
            </svg>
          </button>
        </div>
      </div>

    </div>

    <!-- â•â•â•â•â•â• PANEL 3: AGENTS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <div id="panel-agents" class="h-full overflow-y-auto hidden">
      <div class="max-w-3xl mx-auto space-y-6 py-1">

        <div class="text-center pb-1">
          <h2 class="text-xl font-black gradient-text" data-ar="Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙˆÙƒÙ„Ø§Ø¡" data-en="Agent Management">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙˆÙƒÙ„Ø§Ø¡</h2>
          <p class="text-[11px] text-gray-500 mt-1" data-ar="Ø§Ø®ØªØ± ÙˆÙƒÙŠÙ„Ø§Ù‹ Ù…ØªØ®ØµØµØ§Ù‹ Ù„Ù…Ù‡Ù…ØªÙƒ" data-en="Choose a specialized agent for your task">Ø§Ø®ØªØ± ÙˆÙƒÙŠÙ„Ø§Ù‹ Ù…ØªØ®ØµØµØ§Ù‹ Ù„Ù…Ù‡Ù…ØªÙƒ</p>
        </div>

        <!-- Standard Agents -->
        <div>
          <div class="flex items-center gap-2 mb-3">
            <span class="w-1 h-5 rounded-full bg-gradient-to-b from-violet-500 to-indigo-500 inline-block"></span>
            <h3 class="text-xs font-bold text-gray-300 uppercase tracking-widest" data-ar="Ø§Ù„ÙˆÙƒÙ„Ø§Ø¡ Ø§Ù„Ù‚ÙŠØ§Ø³ÙŠÙˆÙ†" data-en="Standard Agents">Ø§Ù„ÙˆÙƒÙ„Ø§Ø¡ Ø§Ù„Ù‚ÙŠØ§Ø³ÙŠÙˆÙ†</h3>
          </div>
          <div id="std-agents" class="grid grid-cols-1 sm:grid-cols-2 gap-3"></div>
        </div>

        <!-- Custom Agents -->
        <div class="pb-4">
          <div class="flex items-center gap-2 mb-3">
            <span class="w-1 h-5 rounded-full bg-gradient-to-b from-amber-500 to-orange-500 inline-block"></span>
            <h3 class="text-xs font-bold text-gray-300 uppercase tracking-widest" data-ar="Ø§Ù„ÙˆÙƒÙ„Ø§Ø¡ Ø§Ù„Ù…Ø®ØµØµÙˆÙ†" data-en="Custom Agents">Ø§Ù„ÙˆÙƒÙ„Ø§Ø¡ Ø§Ù„Ù…Ø®ØµØµÙˆÙ†</h3>
          </div>
          <div id="custom-agents" class="grid grid-cols-1 sm:grid-cols-2 gap-3"></div>
        </div>

      </div>
    </div>

  </main>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• SCRIPT â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <script>
  'use strict';

  const API_BASE = document.querySelector('meta[name="api-base-url"]')?.content || 'https://sr-bsm.onrender.com';

  /* â”€â”€ State â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  let lang           = 'ar';
  let currentTab     = 'models';
  let selectedModel  = 'gpt-4o-mini';
  let filterCat      = 'all';
  let chatHistory    = [];
  let isLoading      = false;

  /* â”€â”€ Data: Models â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  const MODELS = [
    {
      id: 'gpt-4o-mini',
      name: 'GPT-4o mini',
      provider: 'OpenAI',
      cat: 'openai',
      emoji: 'âš¡',
      bg: 'from-emerald-500 to-teal-600',
      desc: { ar: 'Ø³Ø±ÙŠØ¹ ÙˆÙØ¹Ù‘Ø§Ù„ Ù„Ù„Ù…Ù‡Ø§Ù… Ø§Ù„ÙŠÙˆÙ…ÙŠØ©', en: 'Fast & efficient for everyday tasks' },
      tags: { ar: ['Ø³Ø±ÙŠØ¹', 'Ù…ÙˆÙÙ‘Ø±'], en: ['Fast', 'Efficient'] },
      live: true
    },
    {
      id: 'gpt-4o',
      name: 'GPT-4o',
      provider: 'OpenAI',
      cat: 'openai',
      emoji: 'ğŸ§ ',
      bg: 'from-blue-500 to-indigo-600',
      desc: { ar: 'Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø£Ù‚ÙˆÙ‰ ÙˆØ§Ù„Ø£Ø°ÙƒÙ‰ Ù…Ù† OpenAI', en: 'Most powerful OpenAI model' },
      tags: { ar: ['Ù‚ÙˆÙŠ', 'Ø¯Ù‚ÙŠÙ‚'], en: ['Powerful', 'Precise'] },
      live: true
    },
    {
      id: 'perplexity',
      name: 'Perplexity Sonar',
      provider: 'Perplexity',
      cat: 'perplexity',
      emoji: 'ğŸ”',
      bg: 'from-violet-500 to-purple-600',
      desc: { ar: 'Ø¨Ø­Ø« Ø°ÙƒÙŠ ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„ÙØ¹Ù„ÙŠ Ø¨Ù…ØµØ§Ø¯Ø± Ù…ÙˆØ«Ù‘Ù‚Ø©', en: 'Real-time search with cited sources' },
      tags: { ar: ['Ø¨Ø­Ø«', 'Ø­Ø¯ÙŠØ«'], en: ['Search', 'Live'] },
      live: true
    },
    {
      id: 'claude-sonnet',
      name: 'Claude Sonnet 3.7',
      provider: 'Anthropic',
      cat: 'anthropic',
      emoji: 'âœ¦',
      bg: 'from-amber-500 to-orange-500',
      desc: { ar: 'Ù†Ù…ÙˆØ°Ø¬ Ù…ØªÙˆØ§Ø²Ù† Ù…Ù† Anthropic (Ù‚Ø±ÙŠØ¨Ø§Ù‹)', en: 'Balanced Anthropic model (coming soon)' },
      tags: { ar: ['Ù‚Ø±ÙŠØ¨Ø§Ù‹'], en: ['Soon'] },
      live: false
    }
  ];

  /* â”€â”€ Data: Agents â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  const AGENTS = {
    standard: [
      {
        id: 'legal-agent',
        icon: 'âš–ï¸', bg: 'from-blue-500 to-indigo-600',
        name: { ar: 'Ø§Ù„Ù…Ø³ØªØ´Ø§Ø± Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†ÙŠ', en: 'Legal Advisor' },
        desc: { ar: 'Ù…ØªØ®ØµØµ ÙÙŠ Ø§Ù„Ù‚Ø§Ù†ÙˆÙ† Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ ÙˆØ§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ© ÙˆØ§Ù„Ø§Ù…ØªØ«Ø§Ù„', en: 'Saudi law, commercial regulations & compliance' }
      },
      {
        id: 'governance-agent',
        icon: 'ğŸ›ï¸', bg: 'from-violet-500 to-purple-600',
        name: { ar: 'ÙˆÙƒÙŠÙ„ Ø§Ù„Ø­ÙˆÙƒÙ…Ø©', en: 'Governance Agent' },
        desc: { ar: 'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø§Ù…ØªØ«Ø§Ù„ ÙˆÙ…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ø­ÙˆÙƒÙ…Ø© Ø§Ù„Ù…Ø¤Ø³Ø³ÙŠØ©', en: 'Corporate governance & compliance management' }
      }
    ],
    custom: [
      {
        id: 'research',
        icon: 'ğŸ”¬', bg: 'from-emerald-500 to-teal-600',
        name: { ar: 'Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø¨Ø­Ø«', en: 'Research Assistant' },
        desc: { ar: 'Ø¨Ø­Ø« ÙˆØªØ­Ù„ÙŠÙ„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…Ù† Ù…ØµØ§Ø¯Ø± Ù…ØªØ¹Ø¯Ø¯Ø©', en: 'Research & analysis from multiple sources' }
      },
      {
        id: 'contracts',
        icon: 'ğŸ“‹', bg: 'from-amber-500 to-orange-500',
        name: { ar: 'Ù…Ø­Ù„Ù„ Ø§Ù„Ø¹Ù‚ÙˆØ¯', en: 'Contract Analyst' },
        desc: { ar: 'Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¹Ù‚ÙˆØ¯ ÙˆØ§Ù„Ø§ØªÙØ§Ù‚ÙŠØ§Øª Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†ÙŠØ©', en: 'Review & analyze contracts and agreements' }
      }
    ]
  };

  const QUICK_ACTIONS = {
    ar: [
      { icon: 'âš–ï¸', text: 'Ù…Ø§ Ù‡ÙŠ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø´Ø±ÙƒØ§Øª ÙÙŠ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©ØŸ' },
      { icon: 'ğŸ“„', text: 'Ø³Ø§Ø¹Ø¯Ù†ÙŠ ÙÙŠ ØµÙŠØ§ØºØ© Ø¹Ù‚Ø¯' },
      { icon: 'ğŸ¢', text: 'Ù…Ø§ Ù‡ÙŠ Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ø­ÙˆÙƒÙ…Ø©ØŸ' },
      { icon: 'ğŸ’¡', text: 'Ø§Ø´Ø±Ø­ Ù„ÙŠ Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥ÙÙ„Ø§Ø³' }
    ],
    en: [
      { icon: 'âš–ï¸', text: 'What are company types in Saudi Arabia?' },
      { icon: 'ğŸ“„', text: 'Help me draft a contract' },
      { icon: 'ğŸ¢', text: 'What are governance requirements?' },
      { icon: 'ğŸ’¡', text: 'Explain the bankruptcy system' }
    ]
  };

  /* â”€â”€ Clock â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  function tick() {
    const el = document.getElementById('clock');
    if (el) el.textContent = new Date().toLocaleTimeString('en-GB', { hour:'2-digit', minute:'2-digit', second:'2-digit' });
  }
  setInterval(tick, 1000); tick();

  /* â”€â”€ Language â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  function toggleLang() {
    lang = lang === 'ar' ? 'en' : 'ar';
    document.documentElement.lang = lang;
    document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
    document.getElementById('lang-btn').textContent = lang === 'ar' ? 'EN' : 'AR';
    document.getElementById('status-label').textContent = lang === 'ar' ? 'Ù…ØªØµÙ„' : 'Online';
    // Update all labelled elements
    document.querySelectorAll('[data-ar]').forEach(el => {
      el.textContent = lang === 'ar' ? el.dataset.ar : el.dataset.en;
    });
    document.getElementById('model-search').placeholder = lang === 'ar' ? 'Ø§Ø¨Ø­Ø« Ø¹Ù† Ù†Ù…ÙˆØ°Ø¬...' : 'Search models...';
    document.getElementById('chat-input').placeholder   = lang === 'ar' ? 'Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ...' : 'Type your message...';
    renderModels();
    renderAgents();
    renderQuickActions();
  }

  /* â”€â”€ Tabs â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  function setTab(tab) {
    currentTab = tab;
    ['models','chat','agents'].forEach(t => {
      const panel = document.getElementById(`panel-${t}`);
      const btn   = document.getElementById(`tab-${t}`);
      if (t === tab) {
        panel.classList.remove('hidden');
        btn.classList.add('tab-active');
        btn.classList.remove('text-gray-400');
      } else {
        panel.classList.add('hidden');
        btn.classList.remove('tab-active');
        btn.classList.add('text-gray-400');
      }
    });
    if (tab === 'chat') {
      setTimeout(() => document.getElementById('chat-input')?.focus(), 50);
    }
  }

  /* â”€â”€ Category filter â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  function setCategory(cat) {
    filterCat = cat;
    document.querySelectorAll('.cat-btn').forEach(btn => {
      const active = btn.dataset.cat === cat;
      btn.classList.toggle('cat-active', active);
      btn.classList.toggle('text-gray-400', !active);
      btn.classList.toggle('border-white/10', !active);
      btn.classList.toggle('border-transparent', active);
    });
    renderModels();
  }

  /* â”€â”€ Model card selection â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  function selectModel(id) {
    const m = MODELS.find(x => x.id === id);
    if (!m || !m.live) return;
    selectedModel = id;
    renderModels();
    syncChatHeader();
  }

  function syncChatHeader() {
    const m = MODELS.find(x => x.id === selectedModel);
    if (!m) return;
    const icon = document.getElementById('chat-icon');
    const name = document.getElementById('chat-model-name');
    if (icon) { icon.className = `w-9 h-9 rounded-xl bg-gradient-to-br ${m.bg} flex items-center justify-center text-base flex-shrink-0`; icon.textContent = m.emoji; }
    if (name)   name.textContent = m.name;
  }

  /* â”€â”€ Render: Models â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  function renderModels() {
    const grid  = document.getElementById('models-grid');
    const query = (document.getElementById('model-search')?.value || '').toLowerCase();

    const list = MODELS.filter(m => {
      const matchCat  = filterCat === 'all' || m.cat === filterCat;
      const matchText = !query || m.name.toLowerCase().includes(query) || m.provider.toLowerCase().includes(query) || m.desc[lang].toLowerCase().includes(query);
      return matchCat && matchText;
    });

    if (!grid) return;

    if (!list.length) {
      grid.innerHTML = `<div class="col-span-3 text-center py-12 text-gray-500 text-sm">${lang === 'ar' ? 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†Ù…Ø§Ø°Ø¬ Ù…Ø·Ø§Ø¨Ù‚Ø©' : 'No models found'}</div>`;
      return;
    }

    grid.innerHTML = list.map(m => {
      const sel  = m.id === selectedModel;
      const tags = (m.tags[lang] || []).map(t => `<span class="px-2 py-0.5 rounded-full text-[9px] bg-white/5 border border-white/[0.07] text-gray-400">${t}</span>`).join('');
      const selBadge = sel ? `<span class="text-[9px] bg-violet-500/20 text-violet-300 px-2 py-0.5 rounded-full border border-violet-500/30 leading-none">âœ“</span>` : '';
      const soonBadge = !m.live ? `<span class="text-[9px] bg-amber-500/20 text-amber-400 px-2 py-0.5 rounded-full leading-none">${lang === 'ar' ? 'Ù‚Ø±ÙŠØ¨Ø§Ù‹' : 'Soon'}</span>` : '';

      return `
        <div onclick="${m.live ? `selectModel('${m.id}')` : ''}"
          class="model-card glass rounded-2xl p-4 border ${sel ? 'card-selected' : 'border-transparent'} ${m.live ? 'cursor-pointer' : 'opacity-55 cursor-default'}">
          <div class="flex items-start gap-3 mb-3">
            <div class="w-10 h-10 rounded-xl bg-gradient-to-br ${m.bg} flex items-center justify-center text-xl flex-shrink-0 shadow-lg">${m.emoji}</div>
            <div class="flex-1 min-w-0">
              <div class="flex items-center gap-1.5 flex-wrap mb-0.5">
                <span class="text-sm font-bold truncate">${m.name}</span>
                ${selBadge}${soonBadge}
              </div>
              <div class="text-[10px] text-gray-500">${m.provider}</div>
            </div>
          </div>
          <p class="text-xs text-gray-400 mb-3 leading-relaxed">${m.desc[lang]}</p>
          <div class="flex gap-1.5 flex-wrap">${tags}</div>
        </div>
      `;
    }).join('');
  }

  /* â”€â”€ Render: Agents â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  function renderAgents() {
    ['standard','custom'].forEach(type => {
      const el = document.getElementById(type === 'standard' ? 'std-agents' : 'custom-agents');
      if (!el) return;
      el.innerHTML = AGENTS[type].map(a => `
        <div onclick="useAgent('${a.id}')"
          class="model-card glass rounded-2xl p-4 border border-transparent cursor-pointer hover:border-violet-500/30">
          <div class="flex items-start gap-3">
            <div class="w-10 h-10 rounded-xl bg-gradient-to-br ${a.bg} flex items-center justify-center text-xl flex-shrink-0 shadow-lg">${a.icon}</div>
            <div class="flex-1 min-w-0">
              <div class="text-sm font-bold mb-1">${a.name[lang]}</div>
              <p class="text-xs text-gray-500 leading-relaxed">${a.desc[lang]}</p>
            </div>
          </div>
          <div class="mt-3 pt-3 border-t border-white/[0.06] flex justify-end">
            <span class="text-[11px] text-violet-400 font-medium">${lang === 'ar' ? 'Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© â†' : 'Start Chat â†’'}</span>
          </div>
        </div>
      `).join('');
    });
  }

  function useAgent(agentId) {
    const a = [...AGENTS.standard, ...AGENTS.custom].find(x => x.id === agentId);
    if (!a) return;
    const icon = document.getElementById('chat-icon');
    const name = document.getElementById('chat-model-name');
    if (icon) { icon.className = `w-9 h-9 rounded-xl bg-gradient-to-br ${a.bg} flex items-center justify-center text-xl flex-shrink-0`; icon.textContent = a.icon; }
    if (name) name.textContent = a.name[lang];
    setTab('chat');
  }

  /* â”€â”€ Render: Quick actions â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  function renderQuickActions() {
    const el = document.getElementById('quick-actions');
    if (!el) return;
    el.innerHTML = QUICK_ACTIONS[lang].map(q => `
      <button onclick="quickSend(${JSON.stringify(q.text)})"
        class="qa-chip rounded-xl px-3 py-2.5 text-xs text-gray-400 text-start flex items-center gap-2 transition">
        <span class="text-base">${q.icon}</span>
        <span class="leading-snug">${q.text}</span>
      </button>
    `).join('');
  }

  function quickSend(text) {
    const input = document.getElementById('chat-input');
    if (input) { input.value = text; autoResize(input); }
    sendMessage();
  }

  /* â”€â”€ Start chat from model selection â”€â”€â”€â”€â”€ */
  function startChat() {
    syncChatHeader();
    setTab('chat');
  }

  /* â”€â”€ Chat: helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  function autoResize(el) {
    el.style.height = 'auto';
    el.style.height = Math.min(el.scrollHeight, 120) + 'px';
  }

  function handleKey(e) {
    if (e.key === 'Enter' && !e.shiftKey) { e.preventDefault(); sendMessage(); }
  }

  function clearChat() {
    chatHistory = [];
    const container = document.getElementById('chat-messages');
    if (!container) return;
    container.innerHTML = `
      <div id="chat-empty" class="flex flex-col items-center justify-center h-full py-10 text-center">
        <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-600 to-indigo-700 flex items-center justify-center text-2xl mb-4 shadow-xl shadow-violet-900/30">âœ¨</div>
        <h3 class="font-bold text-base mb-1">${lang === 'ar' ? 'Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ' : 'Welcome'}</h3>
        <p class="text-xs text-gray-500 max-w-xs leading-relaxed">${lang === 'ar' ? 'Ø§Ø³Ø£Ù„Ù†ÙŠ Ø£ÙŠ Ø´ÙŠØ¡ â€” Ù‚Ø§Ù†ÙˆÙ†ØŒ Ø£Ø¹Ù…Ø§Ù„ØŒ Ø£Ùˆ ÙÙƒØ±Ø©' : 'Ask me anything â€” law, business, or ideas'}</p>
        <div id="quick-actions" class="grid grid-cols-2 gap-2 mt-6 w-full max-w-sm px-4"></div>
      </div>
    `;
    renderQuickActions();
  }

  function addBubble(role, content) {
    const container = document.getElementById('chat-messages');
    if (!container) return;
    const empty = document.getElementById('chat-empty');
    if (empty) empty.remove();

    const isUser  = role === 'user';
    const isError = role === 'error';

    const wrap = document.createElement('div');
    wrap.className = `msg-anim flex ${isUser ? 'justify-end' : 'justify-start'}`;

    const bubble = document.createElement('div');
    if (isUser) {
      bubble.className = 'bg-gradient-to-br from-violet-600/85 to-indigo-700/85 rounded-2xl rounded-tr-sm px-4 py-3 max-w-[82%] text-sm leading-relaxed';
      bubble.textContent = content;
    } else if (isError) {
      bubble.className = 'glass border border-red-500/30 text-red-400 rounded-2xl rounded-tl-sm px-4 py-3 max-w-[82%] text-sm leading-relaxed';
      bubble.textContent = content;
    } else {
      bubble.className = 'glass border border-white/[0.07] rounded-2xl rounded-tl-sm px-4 py-3 max-w-[82%] text-sm leading-relaxed prose-msg';
      bubble.innerHTML = content;
    }

    wrap.appendChild(bubble);
    container.appendChild(wrap);
    container.scrollTop = container.scrollHeight;
  }

  function showTyping() {
    const container = document.getElementById('chat-messages');
    if (!container) return;
    const wrap = document.createElement('div');
    wrap.id = 'typing-wrap';
    wrap.className = 'msg-anim flex justify-start';
    wrap.innerHTML = `
      <div class="glass border border-white/[0.07] rounded-2xl rounded-tl-sm px-4 py-3">
        <div class="flex items-center gap-1.5">
          <span class="tdot w-1.5 h-1.5 rounded-full bg-gray-400 inline-block"></span>
          <span class="tdot w-1.5 h-1.5 rounded-full bg-gray-400 inline-block"></span>
          <span class="tdot w-1.5 h-1.5 rounded-full bg-gray-400 inline-block"></span>
        </div>
      </div>
    `;
    container.appendChild(wrap);
    container.scrollTop = container.scrollHeight;
  }

  function removeTyping() {
    document.getElementById('typing-wrap')?.remove();
  }

  /* â”€â”€ Chat: send â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  async function sendMessage() {
    const input = document.getElementById('chat-input');
    const text  = input?.value.trim();
    if (!text || isLoading) return;

    input.value = '';
    input.style.height = 'auto';
    isLoading = true;

    addBubble('user', text);
    showTyping();

    const history = chatHistory.slice(-20).map(m => ({ role: m.role, content: m.content }));
    chatHistory.push({ role: 'user', content: text });

    try {
      const res = await fetch(`${API_BASE}/api/chat/direct`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ message: text, model: selectedModel, language: lang, history })
      });

      const data = await res.json();
      if (!res.ok) throw new Error(data.message || `HTTP ${res.status}`);

      const reply = data.output || (lang === 'ar' ? 'Ù„Ù… Ø£ØªÙ…ÙƒÙ† Ù…Ù† Ø§Ù„Ø±Ø¯.' : 'No response received.');
      removeTyping();
      addBubble('assistant', reply.replace(/\n/g, '<br>'));
      chatHistory.push({ role: 'assistant', content: reply });

    } catch (err) {
      removeTyping();
      const msg = lang === 'ar' ? `Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„: ${err.message}` : `Connection error: ${err.message}`;
      addBubble('error', msg);
    } finally {
      isLoading = false;
      input?.focus();
    }
  }

  /* â”€â”€ Init â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  renderModels();
  renderAgents();
  renderQuickActions();
  syncChatHeader();
  </script>

</body>
</html>
