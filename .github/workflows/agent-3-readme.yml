name: ğŸ“ The README Architect

on:
  push:
    branches: [main]

jobs:
  update-readme:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
      - name: ğŸ“¥ Checkout Code
        uses: actions/checkout@v4

      - name: ğŸŒ³ Generate File Tree
        run: |
          echo "## ğŸ“‚ Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„Ù…Ø­Ø¯Ø« ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹" > FILE_TREE.md
          echo "\`\`\`bash" >> FILE_TREE.md
          tree -I "node_modules|.git|venv" >> FILE_TREE.md || ls -R >> FILE_TREE.md
          echo "\`\`\`" >> FILE_TREE.md

      - name: âœï¸ Update README Content
        run: |
          # Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ù…Ù„Ù README
          if [ ! -f README.md ]; then echo "# BSM Project" > README.md; fi
          
          # Ø¥Ø¶Ø§ÙØ© ØªÙˆÙ‚ÙŠØ¹ Ø§Ù„ØªØ­Ø¯ÙŠØ«
          echo "" >> README.md
          echo "---" >> README.md
          echo "### ğŸ¤– Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø¸Ø§Ù…" >> README.md
          echo "ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø®ÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø© **BSM Auto-Agent** Ø¨ØªØ§Ø±ÙŠØ®: $(date)" >> README.md
          echo "âœ… Ø§Ù„Ø­Ø§Ù„Ø©: **Ù…Ø³ØªÙ‚Ø± (Stable)**" >> README.md

      - name: ğŸ’¾ Commit Documentation
        uses: stefanzweifel/git-auto-commit-action@v5
        with:
          commit_message: "ğŸ“ Docs: Scribe Agent updated README & Structure"
